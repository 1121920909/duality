version: AppVeyor {branch} Build {build}

branches:
  except:
    - gh-pages
    
# Do not build on tags (GitHub only)
skip_tags: true

build:
  project: Duality.sln
  verbosity: minimal
  
after_build: '"Package Binary NoDocs.bat"'
  
test:
  assemblies:
    - 'UnitTesting\DualityTests\**\*.dll'
  categories:
    except:
      - Rendering   # AppVeyor VMs don't have GPU access.

artifacts:
  - path: 'Other\NightlyBuild\Package\Duality.zip'
    name: "Binary Release"
  - path: 'Other\NightlyBuild\NuGetPackages\*.nupkg'
    name: "NuGet Packages"
